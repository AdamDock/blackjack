{"ast":null,"code":"var _jsxFileName = \"/Users/adamdockstader/repos/blackjack/src/components/Choices/ChoiceList.tsx\",\n  _s = $RefreshSig$();\nimport Button from \"../ReusableForms/Button\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setPlayerScore2, setPlayerScore, setDealStage, setEvaluateStage, setDealerScore } from \"../../store\";\nimport { useEffect } from \"react\";\nimport { resetGame, calculateScore, evaluateWinner, dealerHit, checkBlackjack } from \"../Game_Logic/game_logic\";\nimport { handleDealClick, handleHitClick, handleStandClick, handleDoubleClick, handleSplitClick } from \"./choice_logic\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChoiceList = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    betStage,\n    dealStage,\n    evaluateStage,\n    splitActive,\n    dealerTurnComplete,\n    gameOver,\n    gameScore,\n    hand1dealt,\n    textOutcome,\n    isBlackjack\n  } = useSelector(state => state.game);\n  const {\n    score,\n    score2,\n    hand,\n    hand2\n  } = useSelector(state => state.player);\n  const {\n    dealerScore\n  } = useSelector(state => state.dealer);\n  const dealerHand = useSelector(state => state.dealer.hand);\n  const {\n    pot,\n    pot2,\n    stack\n  } = useSelector(state => state.chips);\n  useEffect(() => {\n    if (score > 21 && !splitActive) {\n      dispatch(setEvaluateStage(true));\n      dispatch(setDealStage(false));\n    } else if (score2 > 21 && splitActive) {\n      dispatch(setEvaluateStage(true));\n      dispatch(setDealStage(false));\n    }\n  }, [score, score2]);\n  useEffect(() => {\n    const calculatedHand2Score = calculateScore(hand2);\n    dispatch(setPlayerScore2(calculatedHand2Score));\n  }, [hand2]);\n  useEffect(() => {\n    const calculatedDealerScore = calculateScore(dealerHand);\n    dispatch(setDealerScore(calculatedDealerScore));\n  }, [dealerHand]);\n  useEffect(() => {\n    const score = calculateScore(hand);\n    dispatch(setPlayerScore(score));\n  }, [hand]);\n  useEffect(() => {\n    if (hand.length === 2) {\n      checkBlackjack(dispatch, dealStage, splitActive, score, dealerScore, score2, pot, pot2);\n    }\n  }, [score]);\n  useEffect(() => {\n    if (evaluateStage) {\n      setTimeout(() => {\n        dealerHit(dispatch, dealerScore);\n      }, 2000);\n    }\n  }, [dealerScore, evaluateStage]);\n  useEffect(() => {\n    if (dealerTurnComplete) {\n      evaluateWinner(dispatch, score, dealerScore, pot, splitActive, score2, pot2);\n    }\n  }, [dealerTurnComplete]);\n  useEffect(() => {\n    if (evaluateStage && dealerTurnComplete && gameOver || isBlackjack) {\n      setTimeout(() => {\n        resetGame(dispatch);\n      }, 5000);\n    }\n  }, [gameOver]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: !betStage ? \"opacity-0 cursor-default\" : '',\n        secondary: true,\n        rounded: true,\n        onClick: () => handleDealClick(dispatch, betStage, pot),\n        children: \"Deal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: !dealStage || !splitActive && score > 21 || isBlackjack ? \"opacity-0 cursor-default\" : '',\n        secondary: true,\n        rounded: true,\n        onClick: () => handleHitClick(dispatch, dealStage, splitActive, score, hand1dealt),\n        children: \"Hit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: !dealStage || !splitActive && score > 21 || isBlackjack ? \"opacity-0 cursor-default\" : '',\n        secondary: true,\n        rounded: true,\n        onClick: () => handleStandClick(dispatch, splitActive, betStage, hand1dealt),\n        children: \"Stand\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: !dealStage || !splitActive && score > 21 || isBlackjack ? \"opacity-0 cursor-default\" : '',\n        secondary: true,\n        rounded: true,\n        onClick: () => handleDoubleClick(dispatch, dealStage, splitActive, score, stack, pot, hand, score2, hand1dealt),\n        children: \"Double\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: !dealStage || !splitActive && score > 21 || splitActive || isBlackjack ? \"opacity-0 cursor-default\" : '',\n        secondary: true,\n        rounded: true,\n        onClick: () => handleSplitClick(dispatch, hand, splitActive, stack, pot),\n        children: \"Split\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(ChoiceList, \"4vzH4t6y7cDnD4or3I/8Q7WMvpo=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n_c = ChoiceList;\nexport default ChoiceList;\nvar _c;\n$RefreshReg$(_c, \"ChoiceList\");","map":{"version":3,"names":["Button","useDispatch","useSelector","setPlayerScore2","setPlayerScore","setDealStage","setEvaluateStage","setDealerScore","useEffect","resetGame","calculateScore","evaluateWinner","dealerHit","checkBlackjack","handleDealClick","handleHitClick","handleStandClick","handleDoubleClick","handleSplitClick","jsxDEV","_jsxDEV","Fragment","_Fragment","ChoiceList","_s","dispatch","betStage","dealStage","evaluateStage","splitActive","dealerTurnComplete","gameOver","gameScore","hand1dealt","textOutcome","isBlackjack","state","game","score","score2","hand","hand2","player","dealerScore","dealer","dealerHand","pot","pot2","stack","chips","calculatedHand2Score","calculatedDealerScore","length","setTimeout","children","className","secondary","rounded","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/adamdockstader/repos/blackjack/src/components/Choices/ChoiceList.tsx"],"sourcesContent":["import Button from \"../ReusableForms/Button\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {setPlayerScore2, setPlayerScore, setDealStage, setEvaluateStage, setDealerScore } from \"../../store\";\nimport { useEffect } from \"react\";\nimport { resetGame, calculateScore, evaluateWinner, dealerHit, checkBlackjack } from \"../Game_Logic/game_logic\";\nimport { handleDealClick, handleHitClick, handleStandClick, handleDoubleClick, handleSplitClick } from \"./choice_logic\";\n\nconst ChoiceList = ()=>{\n    const dispatch = useDispatch();\n    const {betStage, dealStage, evaluateStage, splitActive, dealerTurnComplete, gameOver, gameScore, hand1dealt, textOutcome, isBlackjack} = useSelector((state: any) => state.game);\n    const {score, score2, hand, hand2} = useSelector((state: any) => state.player);\n    const {dealerScore} = useSelector((state: any) => state.dealer);\n    const dealerHand = useSelector((state: any) => state.dealer.hand);\n    const {pot, pot2, stack} = useSelector((state: any) => state.chips);\n    useEffect(() => {\n      if(score > 21 && !splitActive){\n        dispatch(setEvaluateStage(true));\n        dispatch(setDealStage(false));\n      } else if (score2 > 21 && splitActive){\n        dispatch(setEvaluateStage(true));\n        dispatch(setDealStage(false));\n      }\n    }, [score, score2]);\n      \n    useEffect(() => {\n      const calculatedHand2Score = calculateScore(hand2);\n      dispatch(setPlayerScore2(calculatedHand2Score));\n    }, [hand2]);\n\n    useEffect(() => {\n      const calculatedDealerScore = calculateScore(dealerHand);\n      dispatch(setDealerScore(calculatedDealerScore));\n    }, [dealerHand]);\n\n    useEffect(() => {\n      const score = calculateScore(hand);\n      dispatch(setPlayerScore(score));\n    }, [hand]);\n\n    useEffect(() => {\n      if(hand.length === 2){\n      checkBlackjack(dispatch, dealStage, splitActive, score, dealerScore, score2, pot, pot2);\n      }\n    }, [score]);\n      \n    useEffect(() => {\n      if(evaluateStage){\n        setTimeout(() => {\n        dealerHit(dispatch, dealerScore);\n        }, 2000);\n      }\n    },[dealerScore, evaluateStage]);\n    \n      useEffect(() => {\n        if(dealerTurnComplete){\n        evaluateWinner(dispatch, score, dealerScore, pot, splitActive, score2, pot2);\n        }\n  },[dealerTurnComplete]);\n  useEffect(() => {\n    if((evaluateStage && dealerTurnComplete && gameOver)|| isBlackjack){\n    setTimeout(() => {\n      resetGame(dispatch);\n    }, 5000);\n  }\n\n\n  }, [gameOver]);\n      \n\n  return (\n      <>\n      <div className=\"flex items-center\">\n        <Button className={!betStage? \"opacity-0 cursor-default\": ''} secondary rounded onClick={()=>handleDealClick(dispatch, betStage, pot)}>\n          Deal\n        </Button>\n        <Button className={!dealStage || (!splitActive && score> 21) || isBlackjack? \"opacity-0 cursor-default\":''} secondary rounded onClick={()=>handleHitClick(dispatch, dealStage, splitActive, score, hand1dealt)}>\n          Hit\n        </Button>\n        <Button className={!dealStage || (!splitActive && score> 21) || isBlackjack? \"opacity-0 cursor-default\":''} secondary rounded onClick={()=>handleStandClick(dispatch, splitActive, betStage, hand1dealt)}>\n          Stand\n        </Button>\n        <Button className={!dealStage || (!splitActive && score> 21)|| isBlackjack? \"opacity-0 cursor-default\":''} secondary rounded onClick={()=>handleDoubleClick(dispatch, dealStage, splitActive, score, stack, pot, hand, score2, hand1dealt)}>\n          Double\n        </Button>\n        <Button className={!dealStage || (!splitActive && score> 21) ||(splitActive)|| isBlackjack ? \"opacity-0 cursor-default\":''} secondary rounded onClick={()=>handleSplitClick(dispatch, hand, splitActive, stack, pot)}>\n          Split\n        </Button>\n\n      </div>\n      </>\n  )\n}\nexport default ChoiceList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}